/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g)}},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!e.length?a(document):e},zIndex:function(h){if(h!==d){return this.css("zIndex",h)}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function j(m,l,i,n){a.each(f,function(){l-=parseFloat(a.curCSS(m,"padding"+this,true))||0;if(i){l-=parseFloat(a.curCSS(m,"border"+this+"Width",true))||0}if(n){l-=parseFloat(a.curCSS(m,"margin"+this,true))||0}});return l}a.fn["inner"+e]=function(i){if(i===d){return k["inner"+e].call(this)}return this.each(function(){a(this).css(h,j(this,i)+"px")})};a.fn["outer"+e]=function(i,l){if(typeof i!=="number"){return k["outer"+e].call(this,i)}return this.each(function(){a(this).css(h,j(this,i,true,l)+"px")})}});function c(g,e){var j=g.nodeName.toLowerCase();if("area"===j){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(j)?!g.disabled:"a"==j?g.href||e:e)&&b(g)}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(g,f,e){return !!a.data(g,e[3])},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f)}});a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));f.offsetHeight;a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=f.offsetHeight===100;a.support.selectstart="onselectstart" in f;e.removeChild(f).style.display="none"});a.extend(a.ui,{plugin:{add:function(f,g,j){var h=a.ui[f].prototype;for(var e in j){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,j[e]])}},call:function(e,g,f){var j=e.plugins[g];if(!j||!e.element[0].parentNode){return}for(var h=0;h<j.length;h++){if(e.options[j[h][0]]){j[h][1].apply(e.element,f)}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e)},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true}h[e]=1;g=(h[e]>0);h[e]=0;return g},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g))},isOver:function(j,f,i,h,e,g){return a.ui.isOverAxis(j,i,e)&&a.ui.isOverAxis(f,h,g)}})})(jQuery);(function(f,b){var k,e,a,h,i="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var l=f(this).find(":ui-button");setTimeout(function(){l.button("refresh")},1)},d=function(m){var l=m.name,n=m.form,o=f([]);if(l){if(n){o=f(n).find("[name='"+l+"']")}else{o=f("[name='"+l+"']",m.ownerDocument).filter(function(){return !this.form})}}return o};f.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.propAttr("disabled")}else{this.element.propAttr("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var l=this,n=this.options,o=this.type==="checkbox"||this.type==="radio",p="ui-state-hover"+(!o?" ui-state-active":""),m="ui-state-focus";if(n.label===null){n.label=this.buttonElement.html()}this.buttonElement.addClass(i).attr("role","button").bind("mouseenter.button",function(){if(n.disabled){return}f(this).addClass("ui-state-hover");if(this===k){f(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){if(n.disabled){return}f(this).removeClass(p)}).bind("click.button",function(q){if(n.disabled){q.preventDefault();q.stopImmediatePropagation()}});this.element.bind("focus.button",function(){l.buttonElement.addClass(m)}).bind("blur.button",function(){l.buttonElement.removeClass(m)});if(o){this.element.bind("change.button",function(){if(h){return}l.refresh()});this.buttonElement.bind("mousedown.button",function(q){if(n.disabled){return}h=false;e=q.pageX;a=q.pageY}).bind("mouseup.button",function(q){if(n.disabled){return}if(e!==q.pageX||a!==q.pageY){h=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(n.disabled||h){return false}f(this).toggleClass("ui-state-active");l.buttonElement.attr("aria-pressed",l.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(n.disabled||h){return false}f(this).addClass("ui-state-active");l.buttonElement.attr("aria-pressed","true");var q=l.element[0];d(q).not(q).map(function(){return f(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown.button",function(){if(n.disabled){return false}f(this).addClass("ui-state-active");k=this;f(document).one("mouseup",function(){k=null})}).bind("mouseup.button",function(){if(n.disabled){return false}f(this).removeClass("ui-state-active")}).bind("keydown.button",function(q){if(n.disabled){return false}if(q.keyCode==f.ui.keyCode.SPACE||q.keyCode==f.ui.keyCode.ENTER){f(this).addClass("ui-state-active")}}).bind("keyup.button",function(){f(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(q){if(q.keyCode===f.ui.keyCode.SPACE){f(this).click()}})}}}this._setOption("disabled",n.disabled);this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox"}else{if(this.element.is(":radio")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){var l=this.element.parents().filter(":last"),n="label[for='"+this.element.attr("id")+"']";this.buttonElement=l.find(n);if(!this.buttonElement.length){l=l.length?l.siblings():this.element.siblings();this.buttonElement=l.filter(n);if(!this.buttonElement.length){this.buttonElement=l.find(n)}}this.element.addClass("ui-helper-hidden-accessible");var m=this.element.is(":checked");if(m){this.buttonElement.addClass("ui-state-active")}this.buttonElement.attr("aria-pressed",m)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(i+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}f.Widget.prototype.destroy.call(this)},_setOption:function(l,m){f.Widget.prototype._setOption.apply(this,arguments);if(l==="disabled"){if(m){this.element.propAttr("disabled",true)}else{this.element.propAttr("disabled",false)}return}this._resetButton()},refresh:function(){var l=this.element.is(":disabled");if(l!==this.options.disabled){this._setOption("disabled",l)}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var p=this.buttonElement.removeClass(g),n=f("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(p.empty()).text(),m=this.options.icons,l=m.primary&&m.secondary,o=[];if(m.primary||m.secondary){if(this.options.text){o.push("ui-button-text-icon"+(l?"s":(m.primary?"-primary":"-secondary")))}if(m.primary){p.prepend("<span class='ui-button-icon-primary ui-icon "+m.primary+"'></span>")}if(m.secondary){p.append("<span class='ui-button-icon-secondary ui-icon "+m.secondary+"'></span>")}if(!this.options.text){o.push(l?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){p.attr("title",n)}}}else{o.push("ui-button-text-only")}p.addClass(o.join(" "))}});f.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(l,m){if(l==="disabled"){this.buttons.button("option",l,m)}f.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var l=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(l?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(l?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");f.Widget.prototype.destroy.call(this)}})}(jQuery));$.widget("ui.combobox",{_create:function(){var c=this,a=this.element.hide(),d=a.children(":selected"),e=d.val()?d.text():"";var b=this.input=$("<input>").insertAfter(a).val(e).autocomplete({delay:0,minLength:0,source:function(g,f){var h=new RegExp($.ui.autocomplete.escapeRegex(g.term),"i");f(a.children("option").map(function(){var i=$(this).text();if(g.term!=""&&this.value==-1){return null}if(this.value&&(!g.term||h.test(i))){return{label:i.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(g.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:i,option:this,code:$(this).val()}}}))},select:function(f,g){matchSelectCity(a,c,g,b,f)},change:function(g,h){if(!h.item){var i=new RegExp("^"+$.ui.autocomplete.escapeRegex($(this).val())+"$","i"),f=false;a.children("option").each(function(){if($(this).text().match(i)){this.selected=f=true;return false}});if(!f){$(this).val("");a.val("");b.data("autocomplete").term="";return false}}}}).addClass("ui-widget ui-widget-content ui-corner-left");b.data("autocomplete")._renderItem=function(f,g){respawnCityList(a,f,g)};$(b).attr("placeholder",$(a).attr("title"));this.button=$("<button type='button'>&nbsp;</button>").attr("tabIndex",-1).attr("title","Show All Items").insertAfter(b).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(b.autocomplete("widget").is(":visible")){b.autocomplete("close");return}$(this).blur();b.autocomplete("search","");b.focus()})},destroy:function(){this.input.remove();this.button.remove();this.element.show();$.Widget.prototype.destroy.call(this)}});function matchSelectCity(f,i,d,e,a){d.item.option.selected=true;i._trigger("selected",a,{item:d.item.option});var g=$("#flight_destination").val();if($(f).attr("id")=="flight_origin"&&g!=""){var c="";var h=$("#flight_origin").val();$.each(mapping_city,function(j){if(typeof mapping_city[j][h]!="undefined"){c=mapping_city[j][h]}});var b=c.indexOf(g);if(b==-1||g==""){$("#to_des :input").val("")}}}function respawnCityList(a,b,c){var e=$("#flight_origin").val();if($(a).attr("id")=="flight_destination"&&e!=""){var d="";$.each(mapping_city,function(f){if(typeof mapping_city[f][e]!="undefined"){d=mapping_city[f][e]}});if(d==""){return null}$.each(d,function(f){if(d[f]==c.code){return $("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)}})}else{if(is_area(c.value)){return $("<li></li>").data("item.autocomplete",c).append('<label class="lbl-area">'+c.label+"</label>").appendTo(b)}else{return $("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)}}}function is_area(b){var a=false;$("#flight_origin option").each(function(){if($(this).val()=="-1"&&b==$(this).text()){a=true}});return a}function initSearchFlight(i){var a=$("#bp_flight_default_date").val();var j=$("#bp_flight_depart_date").val();var e=$("#bp_flight_return_date").val();var d="#departure_day";var c="#departure_month";var b="#departure_date";var f="#returning_day";var h="#returning_month";var g="#returning_date";if(i=="searchForm"){$("#flight_origin").combobox();$("#flight_destination").combobox()}else{d="#sd_departure_day";c="#sd_departure_month";b="#sd_departure_date";f="#sd_returning_day";h="#sd_returning_month";g="#sd_returning_date"}initFlightDate(a,j,d,c,b);initFlightDate(a,e,f,h,g);$(d).add(c).add(f).add(h).change(function(){var l=$(d).val()+"-"+$(c).val();var k=$(f).val()+"-"+$(h).val();if(compare_date(l,k)){$(f).val($(d).val());$(h).val($(c).val());$(g).val($(b).val());e=$(g).val();initFlightDate(a,e,f,h,g);$(g).datepicker("option","minDate",$(b).val())}});$("#"+i+' input[name="flight_type"]').click(function(){check_flight_type(i)});check_flight_type(i)}function initFlightDate(a,c,b,f,d){initOptionDay(c,b,"");initOptionMonth(a,c,f,"");var e=a;if(d=="#returning_date"){e=$("#departure_date").val()}$(d).datepicker({showOn:"button",dateFormat:"dd-mm-yy",buttonImage:"/media/calendar.gif",buttonImageOnly:true,buttonText:i18n.flight_pick_a_date,minDate:e,onSelect:function(h,g){selectDate(h,b,f,"");$(b).change()},onClose:function(g){if(d=="#departure_date"&&g!=""){$("#returning_date").datepicker("option","minDate",g)}}});$(d).val(c)}function check_flight_type(a){a="#"+a;if($(a+' input[name="flight_type"]:checked').val()=="roundway"){$(a+" .return-container").show()}else{$(a+" .return-container").hide()}}function search_flight(c,b){if(b=="searchForm"){var f=$("#"+b+' select[name="From"] option:selected').val();var e=$("#"+b+' select[name="To"] option:selected').val();if(f==""){alert(i18n.flight_from_required);return false}if(e==""){alert(i18n.flight_to_required);return false}}var a=$("#bp_flight_default_date").val();var d=$("#"+b+' input[name="departure_date"]').val();if(compare_date(a,d)){alert(i18n.flight_departure_required);return false}$(".search_button").html("<span>"+i18n.flight_searching+'</span>&nbsp;<span class="icon-flight-search-loading">&nbsp;</span>');document.frmSearchForm.action=c+get_flight_params(b);document.frmSearchForm.submit()}function get_flight_params(a){a="#"+a;var g="";var f="";if(a=="#frmSearchDialogForm"){g=$(a+' input[name="From"]').val();f=$(a+' input[name="To"]').val()}else{g=$(a+' select[name="From"] option:selected').val();f=$(a+' select[name="To"] option:selected').val()}var b=$(a+' input[name="departure_date"]').val().split("-");var e=$(a+' input[name="returning_date"]').val().split("-");var d="";if($(a+' input[name="dg_airline_code"]').length>0){d=$(a+' input[name="dg_airline_code"]').val()}var c="From="+g;c+="&DayDepart="+parseInt(b[0],10);c+="&MonthDepart="+parseInt(b[1],10);c+="&YearDepart="+b[2];c+="&To="+f;c+="&DayReturn="+parseInt(e[0],10);c+="&MonthReturn="+parseInt(e[1],10);c+="&YearReturn="+e[2];c+="&ADT="+$(a+' select[name="adults"] option:selected').val();c+="&CHD="+$(a+' select[name="children"] option:selected').val();c+="&INF="+$(a+' select[name="infants"] option:selected').val();c+="&Type="+$(a+' input[name="flight_type"]:checked').val();if(d!=""){c+="&Airline="+d}c=c+"/";return c}function change_search(){$("#searchOverview").hide();$("#searchForm").show()}function get_flight_data(a,b,c){$("#flight_data_content").addClass("flight_loading_content");if(b=="depart"){$("#flight_data_content").html($("#flight_loading_content").html())}else{$("#flight_data_content").html($("#flight-search-loading").html())}disable_filters();$.ajax({url:"/get-flight-data/",type:"POST",cache:false,data:{sid:a,flight_type:b},success:function(d){$("#flight_data_content").removeClass("flight_loading_content");$("#flight_data_content").html(d);enable_filters(c)},error:function(f,e,d){}})}function disable_filters(){$(".filter-airlines").attr("disabled","disabled");$(".filter-times").attr("disabled","disabled")}function enable_filters(c){var b=new Array();var a=new Array();$("#rows_content .bpt_item").each(function(){var e=$(this).attr("airline");var d=$(this).attr("time");b.push(e);a.push(d)});if(b.length>0){$(".filter-airlines").removeAttr("disabled");$(".filter-times").removeAttr("disabled");$(".filter-airlines").attr("checked",false);$(".filter-times").attr("checked",false);$(".filter-airlines").each(function(){var d=$(this).val();if(b.indexOf(d)==-1){$(this).parent().hide()}else{if(d==c){$(this).attr("checked",true)}}});$(".filter-times").each(function(){var d=$(this).val();if(a.indexOf(d)==-1){$(this).parent().hide()}});if(c!=""){filter_flights()}}}function filter_flights(){var b=new Array();var a=new Array();$(".filter-airlines").each(function(){if($(this).attr("checked")){var c=$(this).val();b.push(c)}});$(".filter-times").each(function(){if($(this).attr("checked")){var c=$(this).val();a.push(c)}});show_hide_flight_rows(b,a)}function show_hide_flight_rows(b,a){$("#rows_content .bpt_item").each(function(){var d=$(this).attr("airline");var c=$(this).attr("time");if(is_shown(d,b)&&is_shown(c,a)){$(this).show("slow")}else{$(this).hide("slow")}})}function is_shown(b,a){if(a.length==0){return true}if(a.indexOf(b)!=-1){return true}return false}function sort_flight_by(f){var k=new Array();$("#rows_content .bpt_item").each(function(){var i=$(this);k.push(i)});$.each(["sort_by_prices","sort_by_airlines","sort_by_departure"],function(j,l){var i=$("#"+l).text();if(l==f){$("#"+l).addClass("selected");$("#"+l).html("<span>"+i+"</span>")}else{$("#"+l).removeClass("selected");$("#"+l).html("<a href=\"javascript:sort_flight_by('"+l+"')\">"+i+"</a>")}});for(var d=k.length-1;d>=0;d--){for(var c=1;c<=d;c++){var h=0;var g=0;if(f=="sort_by_prices"){h=$(k[c-1]).attr("price");g=$(k[c]).attr("price");h=parseInt(h);g=parseInt(g)}else{if(f=="sort_by_airlines"){h=$(k[c-1]).attr("code");g=$(k[c]).attr("code")}else{if(f=="sort_by_departure"){h=$(k[c-1]).attr("timefrom");g=$(k[c]).attr("timefrom")}}}if(h>g){var e=k[c-1];k[c-1]=k[c];k[c]=e}else{if(h==g){h=$(k[c-1]).attr("code");g=$(k[c]).attr("code");if(h>g){var e=k[c-1];k[c-1]=k[c];k[c]=e}}}}}var b="";for(var d=0;d<k.length;d++){var a=$(k[d]).clone();$(a).wrap("<div>");b=b+$(a).parent().html()}$("#rows_content").html(b)}function show_flight_detail(b,c,g,e,f){var a=$("#flight_detail_"+c).attr("show");if(a=="hide"){$("#flight_detail_"+c).attr("show","show");$("#show_"+c).html("[ - ] "+i18n.flight_hide_details);$("#flight_detail_"+c).show();var d=$("#flight_detail_"+c).attr("loaded");if(d=="0"){get_flight_detail(b,c,g,e,f)}$("#flight_row_"+c).addClass("bpt-item-selected")}else{$("#flight_detail_"+c).attr("show","hide");$("#show_"+c).html("[ + ] "+i18n.flight_show_details);$("#flight_detail_"+c).hide();$("#flight_row_"+c).removeClass("bpt-item-selected")}}function get_flight_detail(a,b,e,c,d){$("#flight_detail_"+b).html('<center><span class="flight-loading"></span></center>');$.ajax({url:"/get-flight-detail/",type:"POST",cache:false,data:{sid:a,flight_id:b,flight_class:e,flight_stop:c,flight_type:d},success:function(f){if(f!=""){$("#flight_detail_"+b).html(f);$("#flight_detail_"+b).attr("loaded","1")}else{$("#flight_detail_"+b).html('<center><span class="error">'+i18n.flight_failed_load_details+"</span></center>")}},error:function(h,g,f){}})}function get_selected_flight_info(g){var e=g;var i=$("#flight_row_"+g).attr("airline");var b=$("#flight_row_"+g).attr("code");var f=$("#flight_row_"+g).attr("timefrom");var h=$("#flight_row_"+g).attr("timeto");var d=$("#flight_row_"+g).attr("flightclass");var a=$("#flight_row_"+g).attr("flightstop");var c=$("#flight_row_"+g).attr("flightrclass");e=e+";"+i+";"+b+";"+a+";"+f+";"+h+";"+d+";"+c;return e}function show_fare_rules(b){txt_id="txt_"+b;b="fare_rules_"+b;var a=$("#"+b).attr("show");if(a=="hide"){$("#"+b).show();$("#"+b).attr("show","show");$("#"+txt_id).html("[ - ] "+i18n.flight_hide_fare_rules)}else{$("#"+b).hide();$("#"+b).attr("show","hide");$("#"+txt_id).html("[ + ] "+i18n.flight_show_fare_rules)}}function validate_passengers(b){var a=true;var d=".required";var c=".non-required";if(b!=undefined){d="#"+b+" "+d;c="#"+b+" "+d}$("#passenger_note").removeClass("error");$(d).each(function(){$(this).removeClass("red-border");var e=$(this).val();if($.trim(e)==""||/^[a-zA-Z0-9- ]*$/.test(e)==false){a=false;$(this).addClass("red-border")}});$(c).each(function(){$(this).removeClass("red-border");var e=$(this).val();if(/^[a-zA-Z0-9- ]*$/.test(e)==false){a=false;$(this).addClass("red-border")}});if(!a){$("#passenger_note").addClass("error")}return a}function validate_contact_details(){var a=true;$("#contact_detail_error").hide();$(".c-required").each(function(){$(this).removeClass("red-border");var b=$(this).val();if($.trim(b)==""){a=false;$(this).addClass("red-border")}});if(!a){$("#contact_detail_error").show()}return a}function compare_date(d,c){var b=d.split("-");var a=c.split("-");date1=new Date(parseInt(b[2],10),[parseInt(b[1],10)-1],parseInt(b[0],10));date2=new Date(parseInt(a[2]),[parseInt(a[1],10)-1],parseInt(a[0],10));if(date1>date2){return true}return false}function select_destination_flight(l,b,d,e,i,j){var k=$("#search_dialog");var h=$.extend({},$(l).offset(),{width:$(l).outerWidth(),height:$(l).outerHeight()});var a=k.width();var g=Math.round(h.top)+h.height*2-6;var c=Math.round(h.left)-$("#wrapper").offset().left-a+(h.width/2)+40;k.css({top:g,left:c});var f=$("#sl_airline_img_"+b+"_"+d).attr("src");$("#dg_airline_img").attr("src",f);$("#dg_airline_name").html($("#sl_airline_name_"+d).html());$("#dg_airline_code").val(e);$("#dg_txt_from").html($("#sl_from_des_"+b).html());$("#dg_txt_to").html($("#sl_to_des_"+b).html());$("#dg_from").val(i);$("#dg_to").val(j);$(".search-dialog").show()}function flight_format_currency(a){a="$"+a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return a}function change_baggage(){var b=0;var a=0;$(".baggage-fees").each(function(){var e=$(this).val();if(e==""){e=0}e=parseInt(e);var d=$(this).find("option:selected").attr("fee");d=parseInt(d);b=b+e;a=a+d});if(a>0){$("#flight_baggage_fee").show();$("#total_kg").text(b);$("#flight_baggage_fee .row-content").html(flight_format_currency(a))}else{$("#flight_baggage_fee").hide()}var c=parseInt($("#flight_total_price").attr("ticket-price"));$("#flight_total_price").html(flight_format_currency(c+a))};